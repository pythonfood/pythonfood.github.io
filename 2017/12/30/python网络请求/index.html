<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  <title>python网络请求 | PythonFood</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  
    <meta name="keywords" content="python food,Python Food," />
  
  <meta name="description" content="人生苦短，我用python。">
<meta name="keywords" content="python">
<meta property="og:type" content="article">
<meta property="og:title" content="python网络请求">
<meta property="og:url" content="http://pythonfood.github.io/2017/12/30/python网络请求/index.html">
<meta property="og:site_name" content="PythonFood">
<meta property="og:description" content="人生苦短，我用python。">
<meta property="og:updated_time" content="2018-05-11T06:45:50.644Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="python网络请求">
<meta name="twitter:description" content="人生苦短，我用python。">
  
  
    <link rel="icon" href="/favicon.ico">
  
  <link href="//cdn.bootcss.com/font-awesome/4.7.0/css/font-awesome.min.css" rel="stylesheet" type="text/css">
  <link rel="stylesheet" href="/css/style.css">
  <script src="/js/pace.min.js"></script>
  

  
  

</head>

<body>
  <div id="container">
      <header id="header">
    <div id="banner"></div>
    <div id="header-outer">
        <div id="header-menu" class="header-menu-pos animated">
            <div class="header-menu-container">
                <a href="/" class="left">
                    <span class="site-title">Python Food</span>
                </a>
                <nav id="header-menu-nav" class="right">
                    
                    <a  href="/">
                        <i class="fa fa-home"></i>
                        <span>Home</span>
                    </a>
                    
                    <a  href="/archives">
                        <i class="fa fa-archive"></i>
                        <span>Archives</span>
                    </a>
                    
                    <a  href="/about">
                        <i class="fa fa-user"></i>
                        <span>About</span>
                    </a>
                    
                </nav>
                <a class="mobile-header-menu-button">
                    <i class="fa fa-bars"></i>
                </a>
            </div>
        </div>
        <div id="header-row">
            <div id="logo">
                <a href="/">
                    <img src="/images/logo.png" alt="logo">
                </a>
            </div>
            <div class="header-info">
                <div id="header-title">
                    
                    <h2>
                        Python Food
                    </h2>
                    
                </div>
                <div id="header-description">
                    
                    <h3>
                        A snake that grows up slowly
                    </h3>
                    
                </div>
            </div>
            <nav class="header-nav">
                <div class="social">
                    
                        <a title="Home" target="_blank" href="//pythonfood.github.io">
                            <i class="fa fa-home fa-2x"></i></a>
                    
                        <a title="Github" target="_blank" href="//github.com/pythonfood">
                            <i class="fa fa-github fa-2x"></i></a>
                    
                </div>
            </nav>
        </div>
    </div>
</header>
      <div class="outer">
        <section id="main" class="body-wrap"><article id="post-python网络请求" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-inner">
    
      <header class="article-header">
        
  
    <h1 class="post-title" itemprop="name">
      python网络请求
    </h1>
    <div class="post-title-bar">
      <ul>
          
              <li>
                  <i class="fa fa-book"></i>
                  
                      <a href="/categories/python/">python</a>
                  
              </li>
          
        <li>
          <i class="fa fa-calendar"></i>  2017-12-30
        </li>
        <li>
          <i class="fa fa-eye"></i>
          <span id="busuanzi_value_page_pv"></span>
        </li>
      </ul>
    </div>
  

          
      </header>
    
    <div class="article-entry post-content" itemprop="articleBody">
      
            
            <p>人生苦短，我用python。<br><a id="more"></a></p>
<h2 id="一、requests模块"><a href="#一、requests模块" class="headerlink" title="一、requests模块"></a>一、requests模块</h2><p>使用前需安装requests库<code>pip install requests</code>。</p>
<p>requests库的七个主要方法：</p>
<table>
<thead>
<tr>
<th style="text-align:left">方法</th>
<th style="text-align:left">解释</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">requests.request()</td>
<td style="text-align:left">构造一个请求，支持以下各种方法</td>
</tr>
<tr>
<td style="text-align:left">requests.get()</td>
<td style="text-align:left">获取html的主要方法</td>
</tr>
<tr>
<td style="text-align:left">requests.head()</td>
<td style="text-align:left">获取html头部信息的主要方法</td>
</tr>
<tr>
<td style="text-align:left">requests.post()</td>
<td style="text-align:left">向html网页提交post请求的方法</td>
</tr>
<tr>
<td style="text-align:left">requests.put()</td>
<td style="text-align:left">向html网页提交put请求的方法</td>
</tr>
<tr>
<td style="text-align:left">requests.patch()</td>
<td style="text-align:left">向html提交局部修改的请求</td>
</tr>
<tr>
<td style="text-align:left">requests.delete()</td>
<td style="text-align:left">向html提交删除请求</td>
</tr>
</tbody>
</table>
<p><code>requests.request(method，url,**kwargs)</code>构造一个服务器请求request：</p>
<ul>
<li>method: “GET”、”POST”、”HEAD”、”PUT”、”PATCH”、”DELETE”</li>
<li>url: 请求的网址</li>
<li>**kwargs: 控制访问的参数<blockquote>
<ul>
<li>params：字典或字节序列， 作为参数增加到url中,使用这个参数可以把一些键值对以?key1=value1&amp;key2=value2的模式增加到url中<br>例如：kv = {‘key1: ’ values’, ‘key2’: ‘values’}<br>r = requests.request(‘GET’, ‘http:www.python123.io/ws’, params=kw)</li>
<li>data：字典，字节序或文件对象，重点作为向服务器提供或提交资源是提交，，作为request的内容，与params不同的是，data提交的数据并不放在url链接里， 而是放在url链接对应位置的地方作为数据来存储。，它也可以接受一个字符串对象。</li>
<li>json：json格式的数据， json合适在相关的html，http相关的web开发中非常常见， 也是http最经常使用的数据格式， 他是作为内容部分可以向服务器提交。<br>例如：kv = {”key1’: ‘value1’}<br>r = requests.request(‘POST’, ‘<a href="http://python123.io/ws‘" target="_blank" rel="noopener">http://python123.io/ws‘</a>, json=kv)</li>
<li>headers：字典是http的相关语，对应了向某个url访问时所发起的http的头i字段， 可以用这个字段来定义http的访问的http头，可以用来模拟任何我们想模拟的浏览器来对url发起访问。<br>例子： hd = {‘user-agent’: ‘Chrome/10’}<br>r = requests.request(‘POST’, ‘<a href="http://python123.io/ws‘" target="_blank" rel="noopener">http://python123.io/ws‘</a>, headers=hd)</li>
<li>cookies：字典或CookieJar，指的是从http中解析cookie</li>
<li>auth：元组，用来支持http认证功能</li>
<li>files：字典， 是用来向服务器传输文件时使用的字段。<br>例子：fs = {‘files’: open(‘data.txt’, ‘rb’)}<br>r = requests.request(‘POST’, ‘<a href="http://python123.io/ws‘" target="_blank" rel="noopener">http://python123.io/ws‘</a>, files=fs)</li>
<li>timeout: 用于设定超时时间， 单位为秒，当发起一个get请求时可以设置一个timeout时间， 如果在timeout时间内请求内容没有返回， 将产生一个timeout的异常。</li>
<li>proxies：字典， 用来设置访问代理服务器。</li>
<li>allow_redirects: 开关， 表示是否允许对url进行重定向， 默认为True。</li>
<li>stream: 开关， 指是否对获取内容进行立即下载， 默认为True。</li>
<li>verify：开关， 用于认证SSL证书， 默认为True。</li>
<li>cert： 用于设置保存本地SSL证书路径</li>
</ul>
</blockquote>
</li>
</ul>
<p>返回一个包含服务器资源的response对象，具有以下属性和方法：</p>
<table>
<thead>
<tr>
<th style="text-align:left">属性</th>
<th style="text-align:left">说明</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">r.status_code</td>
<td style="text-align:left">http请求的返回状态，若为200则表示请求成功。</td>
</tr>
<tr>
<td style="text-align:left">r.text</td>
<td style="text-align:left">http响应内容的字符串形式，即返回的页面内容</td>
</tr>
<tr>
<td style="text-align:left">r.encoding</td>
<td style="text-align:left">从http header 中猜测的相应内容编码方式</td>
</tr>
<tr>
<td style="text-align:left">r.apparent_encoding</td>
<td style="text-align:left">从内容中分析出的响应内容编码方式（备选编码方式）</td>
</tr>
<tr>
<td style="text-align:left">r.content</td>
<td style="text-align:left">http响应内容的二进制形式</td>
</tr>
<tr>
<td style="text-align:left">r.raw</td>
<td style="text-align:left">返回原始响应体，使用r.raw.read()读取</td>
</tr>
<tr>
<td style="text-align:left">r.headers</td>
<td style="text-align:left">以字典对象存储服务器响应头，但是这个字典比较特殊，字典键不区分大小写，若键不存在则返回None</td>
</tr>
<tr>
<td style="text-align:left">r.json()</td>
<td style="text-align:left">Requests中内置的JSON解码器</td>
</tr>
<tr>
<td style="text-align:left">r.raise_for_status()</td>
<td style="text-align:left">失败请求(非200响应)抛出异常</td>
</tr>
</tbody>
</table>
<h3 id="1、发送请求"><a href="#1、发送请求" class="headerlink" title="1、发送请求"></a>1、发送请求</h3><blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">import requests</span><br><span class="line"></span><br><span class="line">#1.发送get请求</span><br><span class="line">res = requests.get(&quot;http://httpbin.org/get&quot;)</span><br><span class="line"></span><br><span class="line">#2.发送post请求</span><br><span class="line">res = requests.post(&quot;http://httpbin.org/post&quot;, data=&#123;&quot;key&quot;:&quot;value&quot;,...&#125;)</span><br><span class="line"></span><br><span class="line">#3.发送head请求</span><br><span class="line">res = requests.head(&quot;http://httpbin.org/get&quot;)</span><br><span class="line"></span><br><span class="line">#4.发送put请求</span><br><span class="line">res = requests.put(&quot;http://httpbin.org/put&quot;,data=&#123;&quot;key&quot;:&quot;value&quot;, ...&#125;)</span><br><span class="line"></span><br><span class="line">#5.发送delete请求</span><br><span class="line">res = requests.delete(&quot;http://httpbin.org/delete&quot;)</span><br><span class="line"></span><br><span class="line">#6.发送patch请求</span><br><span class="line">res = requests.patch(&quot;http://httpbin.org/get&quot;)</span><br></pre></td></tr></table></figure>
</blockquote>
<h3 id="2、构造请求参数"><a href="#2、构造请求参数" class="headerlink" title="2、构造请求参数"></a>2、构造请求参数</h3><h4 id="1-get请求参数"><a href="#1-get请求参数" class="headerlink" title="(1)get请求参数"></a>(1)get请求参数</h4><blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">import requests</span><br><span class="line"></span><br><span class="line">def function():</span><br><span class="line">	#1.请求参数</span><br><span class="line">	payload = &#123;&apos;key1&apos;:&apos;value1&apos;, &apos;key2&apos;:&apos;value2&apos;, &apos;key3&apos;:[&apos;value3&apos;,&apos;value4&apos;]&#125; #注意:请求值可以传入列表</span><br><span class="line">	</span><br><span class="line">	#2.拼接url= http://httpbin.org/get?key1=value1&amp;key2=value2&amp;key3=value3&amp;key3=value4</span><br><span class="line">	res = requests.get(&quot;http://httpbin.org/get&quot;, params=payload) #注意：参数是params</span><br><span class="line"></span><br><span class="line">	print(res.text)</span><br></pre></td></tr></table></figure>
</blockquote>
<h4 id="2-post请求表单"><a href="#2-post请求表单" class="headerlink" title="(2)post请求表单"></a>(2)post请求表单</h4><blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">import requests</span><br><span class="line"></span><br><span class="line">def function():</span><br><span class="line">	#1.表单数据</span><br><span class="line">	payload1 = &#123;&apos;key1&apos;:&apos;value1&apos;,&apos;key2&apos;:&apos;key2&apos;&#125; #注意：一键单值用字典</span><br><span class="line">	payload2 = &#123;(&apos;key1&apos;, &apos;value1&apos;), (&apos;key1&apos;, &apos;value2&apos;)&#125; #注意：一键多值用元组</span><br><span class="line">	</span><br><span class="line">	#2.拼接url</span><br><span class="line">	res1 = requests.post(&quot;http://httpbin.org/post&quot;,data=payload1) #注意：参数是data</span><br><span class="line">	res2 = requests.post(&quot;http://httpbin.org/post&quot;,data=payload2)</span><br><span class="line">	</span><br><span class="line">	print(res1.text)</span><br><span class="line">	print(res2.text)</span><br></pre></td></tr></table></figure>
</blockquote>
<h4 id="3-post请求json"><a href="#3-post请求json" class="headerlink" title="(3)post请求json"></a>(3)post请求json</h4><blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">def function():</span><br><span class="line">	#1.post提交json对象数据</span><br><span class="line">	payload = &#123;&apos;key1&apos;: &apos;value1&apos;, &apos;key2&apos;: &apos;value2&apos;&#125;</span><br><span class="line"></span><br><span class="line">	#2.拼接url</span><br><span class="line">	res = requests.post(&quot;http://httpbin.org/post&quot;,data=json.dumps(payload))# 方式一</span><br><span class="line">	res = requests.post(&quot;http://httpbin.org/post&quot;,json=payload)# 方式二</span><br></pre></td></tr></table></figure>
</blockquote>
<h4 id="4-构造请求头headers"><a href="#4-构造请求头headers" class="headerlink" title="(4)构造请求头headers"></a>(4)构造请求头headers</h4><blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">def function:</span><br><span class="line"></span><br><span class="line">	#1.构造请求头</span><br><span class="line">	headers = &#123;&apos;user-agent&apos;:&apos;my-app/0.0.1&apos;&#125;</span><br><span class="line">	#2.定义url</span><br><span class="line">	url = &quot;https://api.github.com/some/endpoint&quot;</span><br><span class="line"></span><br><span class="line">	#3.拼接url</span><br><span class="line">	res = requests.get(url, headers=headers)</span><br></pre></td></tr></table></figure>
</blockquote>
<h4 id="5-构造cookies请求"><a href="#5-构造cookies请求" class="headerlink" title="(5)构造cookies请求"></a>(5)构造cookies请求</h4><blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">def function():</span><br><span class="line"></span><br><span class="line">	#1.构造cookies</span><br><span class="line">	cookies = dict(sessionId=&apos;Jsession3123131&apos;)</span><br><span class="line">	#2.定义url</span><br><span class="line">	url = &quot;http://httpbin.org/cookies&quot;</span><br><span class="line">	</span><br><span class="line">	#3.拼接url</span><br><span class="line">	res = requests.get(url, cookies=cookies)</span><br></pre></td></tr></table></figure>
</blockquote>
<h4 id="6-构造请求超时设置"><a href="#6-构造请求超时设置" class="headerlink" title="(6)构造请求超时设置"></a>(6)构造请求超时设置</h4><blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">def function()</span><br><span class="line">	</span><br><span class="line">	## 设置请求超时：0.1秒没响应就请求超时失败</span><br><span class="line">	requests.get(&apos;http://github.com&apos;,timeout=0.1)</span><br></pre></td></tr></table></figure>
</blockquote>
<h4 id="7-基本身份认证"><a href="#7-基本身份认证" class="headerlink" title="(7)基本身份认证"></a>(7)基本身份认证</h4><p>(HTTP Basic Auth)</p>
<blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">import requests</span><br><span class="line">from requests.auth import HTTPBasicAuth</span><br><span class="line"></span><br><span class="line">#身份验证 </span><br><span class="line">r = requests.get(&apos;https://httpbin.org/hidden-basic-auth/user/passwd&apos;, auth=HTTPBasicAuth(&apos;user&apos;, &apos;passwd&apos;))</span><br><span class="line"># r = requests.get(&apos;https://httpbin.org/hidden-basic-auth/user/passwd&apos;, auth=(&apos;user&apos;, &apos;passwd&apos;))    # 简写</span><br><span class="line"></span><br><span class="line">print(r.json())</span><br></pre></td></tr></table></figure>
</blockquote>
<h3 id="3、响应内容"><a href="#3、响应内容" class="headerlink" title="3、响应内容"></a>3、响应内容</h3><blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line">import requests</span><br><span class="line"></span><br><span class="line">def function()</span><br><span class="line">	</span><br><span class="line">	#发送请求</span><br><span class="line">	url = &quot;https://api.github.com/some/endpoint&quot;</span><br><span class="line">	payload = &#123;&apos;key1&apos;:&apos;value1&apos;,&apos;key2&apos;:&apos;key2&apos;&#125;</span><br><span class="line">	headers = &#123;&apos;user-agent&apos;:&apos;my-app/0.0.1&apos;&#125;</span><br><span class="line">	cookies = dict(sessionId=&apos;Jsession3123131&apos;)</span><br><span class="line">	res = requests.post(url,data=payload,headers=headers,cookies=cookies)</span><br><span class="line">	</span><br><span class="line">	#文本数据信息，大部分情况使用这个方法</span><br><span class="line">	text = res.text</span><br><span class="line">	</span><br><span class="line">	#原始二进制响应数据</span><br><span class="line">	content = res.content</span><br><span class="line">	</span><br><span class="line">	# json响应数据，通常我们使用json模块来处理</span><br><span class="line">	json_data = res.json()</span><br><span class="line">	</span><br><span class="line">	# 响应状态码</span><br><span class="line">	status_code= res.status_code</span><br><span class="line">	</span><br><span class="line">	# 响应头</span><br><span class="line">	headers = res.headers</span><br><span class="line">	</span><br><span class="line">	# 响应cookies</span><br><span class="line">	cookies = res.cookies</span><br><span class="line">	</span><br><span class="line">	#使用响应对象的history方法来追踪重定向</span><br><span class="line">	res.history</span><br></pre></td></tr></table></figure>
</blockquote>
<h2 id="二、urllib模块"><a href="#二、urllib模块" class="headerlink" title="二、urllib模块"></a>二、urllib模块</h2><p>python内置http请求库urllib：</p>
<ul>
<li>urllib.request：用于访问和读取URLS</li>
<li>urllib.error：包括了所有urllib.request导致的异常</li>
<li>urllib.parse：用于解析URLS</li>
<li>urllib.robotparser：用于解析robots.txt文件（网络蜘蛛）</li>
</ul>
<h3 id="1、urllib-request"><a href="#1、urllib-request" class="headerlink" title="1、urllib.request"></a>1、urllib.request</h3><p>(1)基本方法<br><code>urllib.request.urlopen(url, data=None, [timeout, ]*, cafile=None, capath=None, cadefault=False, context=None)</code></p>
<ul>
<li>url:  需要打开的网址</li>
<li>data：Post提交的数据</li>
<li>timeout：设置网站的访问超时时间</li>
</ul>
<p>urlopen返回对象提供方法：</p>
<ul>
<li><code>geturl()</code>：返回请求的url，通常用于确定是否遵循重定向。</li>
<li><code>info()</code>：返回HTTPMessage对象，表示远程服务器返回的头信息</li>
<li><code>getcode()</code>：返回Http状态码。如果是http请求，200请求成功完成;404网址未找到</li>
<li><code>read()</code> , <code>readline()</code> ,<code>readlines()</code> ：返回页面元素 </li>
<li><code>fileno()</code> , <code>close()</code> ：对HTTPResponse类型数据进行操作，这些方法的使用方式与文件对象完全一样</li>
</ul>
<blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">from urllib import request </span><br><span class="line"> </span><br><span class="line">page = request.urlopen(&quot;http://www.baidu.com/&quot;)  </span><br><span class="line"></span><br><span class="line">print(page.info())  </span><br><span class="line">print(page.getURL())  </span><br><span class="line">print(page.getcode())  </span><br><span class="line">print(page.read())</span><br></pre></td></tr></table></figure>
</blockquote>
<p>(2)设置代理<br><code>urllib.request.build_opener([handler, …])</code><br><code>urllib.request.install_opener(opener)</code></p>
<p>做爬虫的时候，多都会用到代理IP的，步骤如下：<br>1）利用urllib.request.ProxyHandler准备代理IP或者请求头。<br>2）利用urllib.request.build_opener()封装代理IP或请求头。<br>3）利用urllib.request.instanll_opener()安装成全局。<br>4）利用urllib.request.urlopen访问网页。</p>
<blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">from urllib import request</span><br><span class="line">  </span><br><span class="line">proxy_support = request.ProxyHandler(&#123;&apos;sock5&apos;: &apos;localhost:1080&apos;&#125;)  </span><br><span class="line">opener = request.build_opener(proxy_support)  </span><br><span class="line">request.install_opener(opener)  </span><br><span class="line"></span><br><span class="line">a = request.urlopen(&quot;http://www.baidu.com/ &quot;).read().decode(&quot;utf8&quot;)  </span><br><span class="line"></span><br><span class="line">print(a)</span><br></pre></td></tr></table></figure>
</blockquote>
<p>(3)使用Request<br><code>urllib.request.Request(url, data=None, headers={}, method=None)</code><br>使用request()来包装请求，再通过urlopen()获取页面。</p>
<blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">from urllib import request  </span><br><span class="line"></span><br><span class="line">url = r&apos;http://www.lagou.com/zhaopin/Python/?labelWords=label&apos;  </span><br><span class="line">headers = &#123;  </span><br><span class="line">    &apos;User-Agent&apos;: r&apos;Mozilla/5.0 (Windows NT 6.1; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) &apos;  </span><br><span class="line">                  r&apos;Chrome/45.0.2454.85 Safari/537.36 115Browser/6.0.3&apos;,  </span><br><span class="line">    &apos;Referer&apos;: r&apos;http://www.lagou.com/zhaopin/Python/?labelWords=label&apos;,  </span><br><span class="line">    &apos;Connection&apos;: &apos;keep-alive&apos;  </span><br><span class="line">&#125;  </span><br><span class="line"></span><br><span class="line">req = request.Request(url, headers=headers)  </span><br><span class="line">page = request.urlopen(req).read()  </span><br><span class="line">page = page.decode(&apos;utf-8&apos;)</span><br></pre></td></tr></table></figure>
</blockquote>
<h3 id="2、urllib-error"><a href="#2、urllib-error" class="headerlink" title="2、urllib.error"></a>2、urllib.error</h3><p>常见的由urllib.request导致的异常:</p>
<ul>
<li><p>error.URLError: 是OSError的一个子类,URLError可能产生的原因:</p>
<blockquote>
<ul>
<li>网络无连接，即本机无法上网</li>
<li>连接不到特定的服务器</li>
<li>服务器不存在</li>
</ul>
</blockquote>
</li>
<li><p>error.HTTPError: 是URLError的一个子类,对于不能处理对象response的状态码，urlopen会产生一个HTTPError</p>
<blockquote>
<ul>
<li>101： 转换协议 在发送完这个响应最后的空行后，服务器将会切换到在Upgrade 消息头中定义的那些协议。只有在切换新的协议更有好处的时候才应该采取类似措施。</li>
<li>102：继续处理 由WebDAV（RFC 2518）扩展的状态码，代表处理将被继续执行。</li>
<li>200：请求成功 处理方式：获得响应的内容，进行处理</li>
<li>201：请求完成，结果是创建了新资源。新创建资源的URI可在响应的实体中得到 处理方式：爬虫中不会遇到</li>
<li>202：请求被接受，但处理尚未完成 处理方式：阻塞等待</li>
<li>204：服务器端已经实现了请求，但是没有返回新的信 息。如果客户是用户代理，则无须为此更新自身的文档视图。 处理方式：丢弃</li>
<li>300：该状态码不被HTTP/1.0的应用程序直接使用， 只是作为3XX类型回应的默认解释。存在多个可用的被请求资源。 处理方式：若程序中能够处理，则进行进一步处理，如果程序中不能处理，则丢弃</li>
<li>301：请求到的资源都会分配一个永久的URL，这样就可以在将来通过该URL来访问此资源 处理方式：重定向到分配的URL</li>
<li>302：请求到的资源在一个不同的URL处临时保存 处理方式：重定向到临时的URL</li>
<li>304：请求的资源未更新 处理方式：丢弃</li>
<li>400：非法请求 处理方式：丢弃</li>
<li>401：未授权 处理方式：丢弃</li>
<li>403：禁止 处理方式：丢弃</li>
<li>404：没有找到 处理方式：丢弃</li>
<li>500：服务器内部错误 服务器遇到了一个未曾预料的状况，导致了它无法完成对请求的处理。一般来说，这个问题都会在服务器端的源代码出现错误时出现。</li>
<li>501：服务器无法识别 服务器不支持当前请求所需要的某个功能。当服务器无法识别请求的方法，并且无法支持其对任何资源的请求。</li>
<li>502：错误网关 作为网关或者代理工作的服务器尝试执行请求时，从上游服务器接收到无效的响应。</li>
<li>503：服务出错 由于临时的服务器维护或者过载，服务器当前无法处理请求。这个状况是临时的，并且将在一段时间以后恢复。</li>
</ul>
</blockquote>
</li>
</ul>
<blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">from urllib import request</span><br><span class="line">from urllib import error</span><br><span class="line"></span><br><span class="line">if __name__ == &quot;__main__&quot;:</span><br><span class="line">    #一个不存在的连接</span><br><span class="line">    url = &quot;http://www.test1.com/test2.html&quot;</span><br><span class="line">    req = request.Request(url)</span><br><span class="line">    </span><br><span class="line">	try:</span><br><span class="line">        responese = request.urlopen(req)</span><br><span class="line">        # html = responese.read()</span><br><span class="line">	#想用HTTPError和URLError一起捕获异常,需要将HTTPError放在URLError的前面</span><br><span class="line">    except error.HTTPError as e:</span><br><span class="line">        print(e.code)</span><br><span class="line">	except error.URLError as e:</span><br><span class="line">        print(e.reason)</span><br></pre></td></tr></table></figure>
</blockquote>
<h3 id="3、urllib-parse"><a href="#3、urllib-parse" class="headerlink" title="3、urllib.parse"></a>3、urllib.parse</h3><p>(1)<code>urllib.parse.urlparse(urlstring, scheme=”, allow_fragments=True)</code><br>用于将一个URL解析成六个部分，返回一个元组，URL的格式为：scheme://netloc/path;parameters?query#fragment</p>
<p>以下为返回的元组元素：</p>
<table>
<thead>
<tr>
<th style="text-align:left">元素</th>
<th style="text-align:left">编号</th>
<th style="text-align:left">值</th>
<th style="text-align:left">值不存在时默认值</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">scheme</td>
<td style="text-align:left">0</td>
<td style="text-align:left">请求</td>
<td style="text-align:left">一定存在</td>
</tr>
<tr>
<td style="text-align:left">netloc</td>
<td style="text-align:left">1</td>
<td style="text-align:left">网址</td>
<td style="text-align:left">空字符串</td>
</tr>
<tr>
<td style="text-align:left">path</td>
<td style="text-align:left">2</td>
<td style="text-align:left">分层路径</td>
<td style="text-align:left">空字符串</td>
</tr>
<tr>
<td style="text-align:left">params</td>
<td style="text-align:left">3</td>
<td style="text-align:left">参数</td>
<td style="text-align:left">空字符串</td>
</tr>
<tr>
<td style="text-align:left">query</td>
<td style="text-align:left">4</td>
<td style="text-align:left">查询组件</td>
<td style="text-align:left">空字符串</td>
</tr>
<tr>
<td style="text-align:left">fragment</td>
<td style="text-align:left">5</td>
<td style="text-align:left">标识符</td>
<td style="text-align:left">空字符串</td>
</tr>
<tr>
<td style="text-align:left">username</td>
<td style="text-align:left"></td>
<td style="text-align:left">用户名</td>
<td style="text-align:left">None</td>
</tr>
<tr>
<td style="text-align:left">password</td>
<td style="text-align:left"></td>
<td style="text-align:left">密码</td>
<td style="text-align:left">None</td>
</tr>
<tr>
<td style="text-align:left">hostname</td>
<td style="text-align:left"></td>
<td style="text-align:left">主机名</td>
<td style="text-align:left">None</td>
</tr>
<tr>
<td style="text-align:left">port</td>
<td style="text-align:left"></td>
<td style="text-align:left">端口号</td>
<td style="text-align:left">None</td>
</tr>
</tbody>
</table>
<blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">from urllib import parse</span><br><span class="line"></span><br><span class="line">o = parse.urlparse(&apos;http://www.cwi.nl:80/%7Eguido/Python.html&apos;)</span><br><span class="line"></span><br><span class="line">print(o)</span><br><span class="line"></span><br><span class="line">#对应结果：ParseResult(scheme=&apos;http&apos;, netloc=&apos;www.cwi.nl:80&apos;, path=&apos;/%7Eguido/Python.html&apos;, params=&apos;&apos;, query=&apos;&apos;, fragment=&apos;&apos;)</span><br></pre></td></tr></table></figure>
</blockquote>
<p>(2)<code>urllib.parse.urljoin(base, url, allow_fragments=True)</code><br>用于将一个基本的URL和其他的URL组装成成一个完成的URL。</p>
<blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">from urllib import parse</span><br><span class="line"></span><br><span class="line">a=arse.urljoin(&apos;http://www.cwi.nl/%7Eguido/Python.html&apos;, &apos;FAQ.html&apos;)</span><br><span class="line"></span><br><span class="line">print(a)</span><br><span class="line"></span><br><span class="line">#对应结果:http://www.cwi.nl/%7Eguido/FAQ.html</span><br></pre></td></tr></table></figure>
</blockquote>
<p>(3)<code>urllib.parse.urlencode(query, doseq=False, safe=&#39;&#39;, encoding=None, errors=None)</code><br>urlencode()主要作用就是将url附上要提交的数据。 </p>
<blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">from urllib import parse</span><br><span class="line"></span><br><span class="line">data = &#123;  </span><br><span class="line">    &apos;first&apos;: &apos;true&apos;,  </span><br><span class="line">    &apos;pn&apos;: 1,  </span><br><span class="line">    &apos;kd&apos;: &apos;Python&apos;  </span><br><span class="line">&#125;  </span><br><span class="line">data = parse.urlencode(data).encode(&apos;utf-8&apos;)</span><br><span class="line"></span><br><span class="line">#经过urlencode()转换后的data数据为?first=true?pn=1?kd=Python</span><br><span class="line">#最后提交的url为http://www.lagou.com/jobs/positionAjax.json?first=true?pn=1?kd=Python</span><br></pre></td></tr></table></figure>
</blockquote>
<h3 id="4、urllib-robotparser"><a href="#4、urllib-robotparser" class="headerlink" title="4、urllib.robotparser"></a>4、urllib.robotparser</h3><p>robotparser为robots.txt文件实现了一个解释器，可以用来读取robots文本的格式和内容，用函数方法检查给定的User-Agent是否可以访问相应的网站资源。如果要编写一个网络蜘蛛，这个模块可以限制一些蜘蛛抓取无用的或者重复的信息，避免蜘蛛掉入动态asp/php网页程序的死循环中。</p>
<p>简单的来说，robots.txt文件是每个网站都应该有的，指引蜘蛛抓取和禁止抓取的一个文本格式的文件，一些合法的蜘蛛或者叫爬虫，都是遵守这个规则的，可以控制他们的访问。</p>
<h3 id="5、GET请求"><a href="#5、GET请求" class="headerlink" title="5、GET请求"></a>5、GET请求</h3><blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">import urllib.request  </span><br><span class="line">import urllib.parse  </span><br><span class="line">  </span><br><span class="line">data = &#123;&#125;  </span><br><span class="line">data[&apos;word&apos;] = &apos;python3&apos;  </span><br><span class="line">url_values = urllib.parse.urlencode(data)    </span><br><span class="line">  </span><br><span class="line">url = &quot;http://www.baidu.com/s?&quot;  </span><br><span class="line">full_url = url + url_values  </span><br><span class="line">  </span><br><span class="line">data = urllib.request.urlopen(full_url).read()  </span><br><span class="line">z_data = data.decode(&apos;UTF-8&apos;)  </span><br><span class="line">print(z_data)</span><br></pre></td></tr></table></figure>
</blockquote>
<h3 id="6、POST数据"><a href="#6、POST数据" class="headerlink" title="6、POST数据"></a>6、POST数据</h3><p><code>urllib.request.urlopen(url, data=None, [timeout, ]*, cafile=None, capath=None, cadefault=False, context=None)</code><br>urlopen()的data参数默认为None，当data参数不为空的时候，urlopen()提交方式为Post。</p>
<blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">import urllib.request  </span><br><span class="line">import urllib.parse</span><br><span class="line"></span><br><span class="line">url = r&apos;http://www.lagou.com/jobs/positionAjax.json?&apos;  </span><br><span class="line">headers = &#123;  </span><br><span class="line">    &apos;User-Agent&apos;: r&apos;Mozilla/5.0 (Windows NT 6.1; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) &apos;  </span><br><span class="line">                  r&apos;Chrome/45.0.2454.85 Safari/537.36 115Browser/6.0.3&apos;,  </span><br><span class="line">    &apos;Referer&apos;: r&apos;http://www.lagou.com/zhaopin/Python/?labelWords=label&apos;,  </span><br><span class="line">    &apos;Connection&apos;: &apos;keep-alive&apos;  </span><br><span class="line">&#125;  </span><br><span class="line">data = &#123;  </span><br><span class="line">    &apos;first&apos;: &apos;true&apos;,  </span><br><span class="line">    &apos;pn&apos;: 1,  </span><br><span class="line">    &apos;kd&apos;: &apos;Python&apos;  </span><br><span class="line">&#125;  </span><br><span class="line">data = parse.urlencode(data).encode(&apos;utf-8&apos;)  #Post的数据必须是bytes或者iterable of bytes，不能是str，因此需要进行encode()编码</span><br><span class="line"></span><br><span class="line">req = request.Request(url, headers=headers, data=data)  </span><br><span class="line"></span><br><span class="line">page = request.urlopen(req).read()  </span><br><span class="line">page = page.decode(&apos;utf-8&apos;)  </span><br><span class="line">print(page)</span><br></pre></td></tr></table></figure>
</blockquote>
<h1 id="持续更新…"><a href="#持续更新…" class="headerlink" title="持续更新…"></a>持续更新…</h1>
            <div class="post-copyright">
    <div class="content">
        <p>最后更新： 2018年05月11日 14:45</p>
        <p>原始链接： <a class="post-url" href="/2017/12/30/python网络请求/" title="python网络请求">http://pythonfood.github.io/2017/12/30/python网络请求/</a></p>
        <footer>
            <a href="http://pythonfood.github.io">
                <img src="/images/logo.png" alt="Python Food">
                Python Food
            </a>
        </footer>
    </div>
</div>

      
        
            
<div class="page-reward">
    <a id="rewardBtn" href="javascript:;">赏</a>
</div>

<div id="reward" class="post-modal reward-lay">
    <a class="close" href="javascript:;" id="reward-close">×</a>
    <span class="reward-title">
        <i class="icon icon-quote-left"></i>
        多少都行~
        <i class="icon icon-quote-right"></i>
    </span>
    <div class="reward-content">
        
        <div class="reward-code">
            <img id="rewardCode" src="/images/wechat_code.jpg" alt="打赏二维码">
        </div>
        <div class="reward-select">
            
            <label class="reward-select-item checked" data-id="wechat" data-wechat="/images/wechat_code.jpg">
                <img class="reward-select-item-wechat" src="/images/wechat.png" alt="微信">
            </label>
            
            
            <label class="reward-select-item" data-id="alipay" data-alipay="/images/alipay_code.jpg">
                <img class="reward-select-item-alipay" src="/images/alipay.png" alt="支付宝">
            </label>
            
        </div>
    </div>
</div>


        
    </div>
    <footer class="article-footer">
        
        
<div class="post-share">
    <a href="javascript:;" id="share-sub" class="post-share-fab">
        <i class="fa fa-share-alt"></i>
    </a>
    <div class="post-share-list" id="share-list">
        <ul class="share-icons">
          <li>
            <a class="weibo share-sns" target="_blank" href="http://service.weibo.com/share/share.php?url=http://pythonfood.github.io/2017/12/30/python网络请求/&title=《python网络请求》 — PythonFood&pic=/images/banner.jpg" data-title="微博">
              <i class="fa fa-weibo"></i>
            </a>
          </li>
          <li>
            <a class="weixin share-sns" id="wxFab" href="javascript:;" data-title="微信">
              <i class="fa fa-weixin"></i>
            </a>
          </li>
          <li>
            <a class="qq share-sns" target="_blank" href="http://connect.qq.com/widget/shareqq/index.html?url=http://pythonfood.github.io/2017/12/30/python网络请求/&title=《python网络请求》 — PythonFood&source=人生苦短，我用python。" data-title="QQ">
              <i class="fa fa-qq"></i>
            </a>
          </li>
          <li>
            <a class="facebook share-sns" target="_blank" href="https://www.facebook.com/sharer/sharer.php?u=http://pythonfood.github.io/2017/12/30/python网络请求/" data-title="Facebook">
              <i class="fa fa-facebook"></i>
            </a>
          </li>
          <li>
            <a class="twitter share-sns" target="_blank" href="https://twitter.com/intent/tweet?text=《python网络请求》 — PythonFood&url=http://pythonfood.github.io/2017/12/30/python网络请求/&via=http://pythonfood.github.io" data-title="Twitter">
              <i class="fa fa-twitter"></i>
            </a>
          </li>
          <li>
            <a class="google share-sns" target="_blank" href="https://plus.google.com/share?url=http://pythonfood.github.io/2017/12/30/python网络请求/" data-title="Google+">
              <i class="fa fa-google-plus"></i>
            </a>
          </li>
        </ul>
     </div>
</div>
<div class="post-modal wx-share" id="wxShare">
    <a class="close" href="javascript:;" id="wxShare-close">×</a>
    <p>扫一扫，分享到微信</p>
    <img src="//api.qrserver.com/v1/create-qr-code/?data=http://pythonfood.github.io/2017/12/30/python网络请求/" alt="微信分享二维码">
</div>

<div class="mask"></div>

        
        <ul class="article-footer-menu">
            
            
  <li class="article-footer-tags">
    <i class="fa fa-tags"></i>
      
    <a href="/tags/python/" class="color2">python</a>
      
  </li>

        </ul>
        
    </footer>
  </div>
</article>


    <aside class="post-toc-pos post-toc-top" id="post-toc">
        <nav class="post-toc-wrap">
            <ol class="post-toc"><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#一、requests模块"><span class="post-toc-text">一、requests模块</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#1、发送请求"><span class="post-toc-text">1、发送请求</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#2、构造请求参数"><span class="post-toc-text">2、构造请求参数</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#1-get请求参数"><span class="post-toc-text">(1)get请求参数</span></a></li><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#2-post请求表单"><span class="post-toc-text">(2)post请求表单</span></a></li><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#3-post请求json"><span class="post-toc-text">(3)post请求json</span></a></li><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#4-构造请求头headers"><span class="post-toc-text">(4)构造请求头headers</span></a></li><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#5-构造cookies请求"><span class="post-toc-text">(5)构造cookies请求</span></a></li><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#6-构造请求超时设置"><span class="post-toc-text">(6)构造请求超时设置</span></a></li><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#7-基本身份认证"><span class="post-toc-text">(7)基本身份认证</span></a></li></ol></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#3、响应内容"><span class="post-toc-text">3、响应内容</span></a></li></ol></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#二、urllib模块"><span class="post-toc-text">二、urllib模块</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#1、urllib-request"><span class="post-toc-text">1、urllib.request</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#2、urllib-error"><span class="post-toc-text">2、urllib.error</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#3、urllib-parse"><span class="post-toc-text">3、urllib.parse</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#4、urllib-robotparser"><span class="post-toc-text">4、urllib.robotparser</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#5、GET请求"><span class="post-toc-text">5、GET请求</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#6、POST数据"><span class="post-toc-text">6、POST数据</span></a></li></ol></li></ol></li><li class="post-toc-item post-toc-level-1"><a class="post-toc-link" href="#持续更新…"><span class="post-toc-text">持续更新…</span></a>
        </nav>
    </aside>
    

<nav id="article-nav">
  
    <a href="/2017/12/30/pythonJSON解析/" id="article-nav-newer" class="article-nav-link-wrap">

      <span class="article-nav-title">
        <i class="fa fa-hand-o-left" aria-hidden="true"></i>
        
          pythonJSON解析
        
      </span>
    </a>
  
  
    <a href="/2017/12/30/python数据库/" id="article-nav-older" class="article-nav-link-wrap">
      <span class="article-nav-title">python数据库</span>
      <i class="fa fa-hand-o-right" aria-hidden="true"></i>
    </a>
  
</nav>



    
        <div id="SOHUCS" sid="python网络请求" ></div>
<script type="text/javascript">
    (function(){
        var appid = 'cytnRgqDg';
        var conf = '61714297a608dcad6779ec4ea0059b2a';
        var width = window.innerWidth || document.documentElement.clientWidth;
        if (width < 960) {
            window.document.write('<script id="changyan_mobile_js" charset="utf-8" type="text/javascript" src="https://changyan.sohu.com/upload/mobile/wap-js/changyan_mobile.js?client_id=' + appid + '&conf=' + conf + '"><\/script>'); } else { var loadJs=function(d,a){var c=document.getElementsByTagName("head")[0]||document.head||document.documentElement;var b=document.createElement("script");b.setAttribute("type","text/javascript");b.setAttribute("charset","UTF-8");b.setAttribute("src",d);if(typeof a==="function"){if(window.attachEvent){b.onreadystatechange=function(){var e=b.readyState;if(e==="loaded"||e==="complete"){b.onreadystatechange=null;a()}}}else{b.onload=a}}c.appendChild(b)};loadJs("https://changyan.sohu.com/upload/changyan.js",function(){window.changyan.api.config({appid:appid,conf:conf})}); } })(); </script>
    
</section>
        
      </div>
      <footer id="footer">
  <div class="outer">
    <div id="footer-info" class="inner">
      
<p>
    <span id="busuanzi_container_site_uv" style='display:none'>
        总访客数：<span id="busuanzi_value_site_uv"></span>
    </span>
    <span id="busuanzi_container_site_pv" style='display:none'>
        总访问量：<span id="busuanzi_value_site_pv"></span>
    </span>
</p>


      <p>
        Powered by  <a href="http://hexo.io/" target="_blank">Hexo</a>
        Theme <a href="//github.com/wongminho/hexo-theme-miho" target="_blank">MiHo</a>
      &copy; 2018 Python Food<br>
      </p>
    </div>
  </div>
</footer>
    <script async src="//dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js"></script>
<script src="//cdn.bootcss.com/jquery/3.2.1/jquery.min.js"></script>
<script>
  var mihoConfig = {
      root: "http://pythonfood.github.io",
      animate: true,
      isHome: false,
      share: true,
      reward: 1
  }
</script>
<div class="sidebar">
    <div id="sidebar-search" title="Search">
        <i class="fa fa-search"></i>
    </div>
    <div id="sidebar-category" title="Categories">
        <i class="fa fa-book"></i>
    </div>
    <div id="sidebar-tag" title="Tags">
        <i class="fa fa-tags"></i>
    </div>
    <div id="sidebar-top">
        <span class="sidebar-top-icon"><i class="fa fa-angle-up"></i></span>
    </div>
</div>
<div class="sidebar-menu-box" id="sidebar-menu-box">
    <div class="sidebar-menu-box-container">
        <div id="sidebar-menu-box-categories">
            <a class="category-link" href="/categories/app测试/">app测试</a><a class="category-link" href="/categories/hexo/">hexo</a><a class="category-link" href="/categories/linux/">linux</a><a class="category-link" href="/categories/markdown/">markdown</a><a class="category-link" href="/categories/mysql/">mysql</a><a class="category-link" href="/categories/python/">python</a><a class="category-link" href="/categories/web测试/">web测试</a><a class="category-link" href="/categories/持续集成/">持续集成</a><a class="category-link" href="/categories/接口测试/">接口测试</a><a class="category-link" href="/categories/测试框架/">测试框架</a><a class="category-link" href="/categories/测试用例/">测试用例</a>
        </div>
        <div id="sidebar-menu-box-tags">
            <a href="/tags/adb/" style="font-size: 10px;">adb</a> <a href="/tags/appium/" style="font-size: 14px;">appium</a> <a href="/tags/app测试/" style="font-size: 10px;">app测试</a> <a href="/tags/fiddler/" style="font-size: 10px;">fiddler</a> <a href="/tags/hexo/" style="font-size: 10px;">hexo</a> <a href="/tags/jenkins/" style="font-size: 10px;">jenkins</a> <a href="/tags/jmeter/" style="font-size: 10px;">jmeter</a> <a href="/tags/linux/" style="font-size: 10px;">linux</a> <a href="/tags/markdown/" style="font-size: 10px;">markdown</a> <a href="/tags/monkey/" style="font-size: 10px;">monkey</a> <a href="/tags/mysql/" style="font-size: 10px;">mysql</a> <a href="/tags/postman/" style="font-size: 10px;">postman</a> <a href="/tags/python/" style="font-size: 20px;">python</a> <a href="/tags/selenium/" style="font-size: 12px;">selenium</a> <a href="/tags/unittest/" style="font-size: 10px;">unittest</a> <a href="/tags/web测试/" style="font-size: 10px;">web测试</a> <a href="/tags/安卓性能/" style="font-size: 16px;">安卓性能</a> <a href="/tags/接口测试/" style="font-size: 10px;">接口测试</a> <a href="/tags/测试用例/" style="font-size: 18px;">测试用例</a>
        </div>
    </div>
    <a href="javascript:;" class="sidebar-menu-box-close">&times;</a>
</div>
<div class="mobile-header-menu-nav" id="mobile-header-menu-nav">
    <div class="mobile-header-menu-container">
        <span class="title">Menus</span>
        <ul class="mobile-header-menu-navbar">
            
            <li>
                <a  href="/">
                    <i class="fa fa-home"></i><span>Home</span>
                </a>
            </li>
            
            <li>
                <a  href="/archives">
                    <i class="fa fa-archive"></i><span>Archives</span>
                </a>
            </li>
            
            <li>
                <a  href="/about">
                    <i class="fa fa-user"></i><span>About</span>
                </a>
            </li>
            
        </ul>
    </div>
    <div class="mobile-header-tag-container">
        <span class="title">Tags</span>
        <div id="mobile-header-container-tags">
            <a href="/tags/adb/" style="font-size: 10px;">adb</a> <a href="/tags/appium/" style="font-size: 14px;">appium</a> <a href="/tags/app测试/" style="font-size: 10px;">app测试</a> <a href="/tags/fiddler/" style="font-size: 10px;">fiddler</a> <a href="/tags/hexo/" style="font-size: 10px;">hexo</a> <a href="/tags/jenkins/" style="font-size: 10px;">jenkins</a> <a href="/tags/jmeter/" style="font-size: 10px;">jmeter</a> <a href="/tags/linux/" style="font-size: 10px;">linux</a> <a href="/tags/markdown/" style="font-size: 10px;">markdown</a> <a href="/tags/monkey/" style="font-size: 10px;">monkey</a> <a href="/tags/mysql/" style="font-size: 10px;">mysql</a> <a href="/tags/postman/" style="font-size: 10px;">postman</a> <a href="/tags/python/" style="font-size: 20px;">python</a> <a href="/tags/selenium/" style="font-size: 12px;">selenium</a> <a href="/tags/unittest/" style="font-size: 10px;">unittest</a> <a href="/tags/web测试/" style="font-size: 10px;">web测试</a> <a href="/tags/安卓性能/" style="font-size: 16px;">安卓性能</a> <a href="/tags/接口测试/" style="font-size: 10px;">接口测试</a> <a href="/tags/测试用例/" style="font-size: 18px;">测试用例</a>
        </div>
    </div>
</div>
<div class="search-wrap">
    <span class="search-close">&times;</span>
        <a href="javascript:;" class="header-icon waves-effect waves-circle waves-light" id="back">
            <i class="icon icon-lg icon-chevron-left"></i>
        </a>
        <input class="search-field" placeholder="Search..." id="keywords">
        <a id="search-submit" href="javascript:;">
            <i class="fa fa-search"></i>
        </a>
    <div class="search-container" id="search-container">
        <ul class="search-result" id="search-result">
        </ul>
    </div>
</div>

<div id="search-tpl">
    <li class="search-result-item">
        <a href="{url}" class="search-item-li">
            <span class="search-item-li-title" title="{title}">{title}</span>
        </a>
    </li>
</div>
<script src="/js/search.js"></script>
<script src="/js/main.js"></script>


  <script src="//cdn.bootcss.com/particles.js/2.0.0/particles.min.js"></script>
  <div id="particles"></div>
  <script src="/js/particles.js"></script>







  <link rel="stylesheet" href="//cdn.bootcss.com/animate.css/3.5.0/animate.min.css">
  <script src="//cdn.bootcss.com/scrollReveal.js/3.0.5/scrollreveal.js"></script>
  <script src="/js/animate.js"></script>

  </div>
</body>
</html>